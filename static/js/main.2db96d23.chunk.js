(this.webpackJsonpzari=this.webpackJsonpzari||[]).push([[0],{168:function(e,t,a){},494:function(e,t,a){"use strict";a.r(t);var n=a(1),r=a(3),c=a.n(r),o=a(58),s=a.n(o),i=a(4),l=a(7),u=a(11),j=a(6),d=a.n(j),b=a(10),O=a(39);a(164),a(166),a(495);O.a.initializeApp({apiKey:"AIzaSyCinp6RjHU2nZjrUPrn5WWCYfnq_apHNyk",authDomain:"zari-b4d28.firebaseapp.com",databaseURL:"https://zari-b4d28.firebaseio.com",projectId:"zari-b4d28",storageBucket:"zari-b4d28.appspot.com",messagingSenderId:"226032074782",appId:"1:226032074782:web:9a77a0b19538c040682e0f"});var m=O.a.auth(),h=O.a.firestore(),f=O.a.storage(),v=(a(168),"data:image/png;base64,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"),p=function(){var e=Object(r.useState)(""),t=Object(i.a)(e,2),a=t[0],c=t[1],o=Object(r.useState)(""),s=Object(i.a)(o,2),u=s[0],j=s[1],O=Object(r.useState)(!1),h=Object(i.a)(O,2),f=h[0],p=h[1],x=Object(r.useState)(""),g=Object(i.a)(x,2),A=g[0],S=g[1],N=function(e){var t=e.target,a=t.name,n=t.value;"email"===a?c(n):"password"===a&&j(n)},w=function(){var e=Object(b.a)(d.a.mark((function e(t){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),e.prev=1,!f){e.next=8;break}return e.next=5,m.createUserWithEmailAndPassword(a,u);case 5:e.sent,e.next=11;break;case 8:return e.next=10,m.signInWithEmailAndPassword(a,u);case 10:e.sent;case 11:e.next=16;break;case 13:e.prev=13,e.t0=e.catch(1),S(e.t0.message);case 16:case"end":return e.stop()}}),e,null,[[1,13]])})));return function(t){return e.apply(this,arguments)}}();return Object(n.jsxs)("div",{className:"loginForm",children:[Object(n.jsx)("img",{src:v,className:"ZARI"}),Object(n.jsxs)("form",{onSubmit:w,children:[Object(n.jsx)("input",{name:"email",type:"email",placeholder:"Email",required:!0,value:a,onChange:N}),Object(n.jsx)("input",{name:"password",type:"password",placeholder:"Password",required:!0,value:u,onChange:N}),Object(n.jsx)("input",{type:"submit",value:f?"Create Account":"Sign In"}),A]}),Object(n.jsxs)("div",{className:"option",children:[Object(n.jsx)("button",{onClick:function(){return p((function(e){return!e}))},children:f?"Sign In":"Create Account"}),Object(n.jsx)(l.b,{to:"/forgot-password",children:"Forgot Password?"})]})]})},x=a(12),g=a(72),A=a(73),S=a(75),N=a(74),w=a(50),I=function(e){Object(S.a)(a,e);var t=Object(N.a)(a);function a(){var e;Object(g.a)(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state={mapMarker:null,showingInfoWindow:!1,activeMarker:{},selectedPlace:{}},e.onMarkerClick=function(t,a,n){return e.setState({selectedPlace:t,activeMarker:a,showingInfoWindow:!0})},e.onMapClicked=function(t){e.state.showingInfoWindow&&e.setState({mapMarker:null,showingInfoWindow:!1,activeMarker:null})},e}return Object(A.a)(a,[{key:"render",value:function(){var e=this,t=this.props.storeList;return Object(n.jsx)("div",{className:"MapAPI",style:{height:"100vh",width:"100vh"},children:Object(n.jsxs)(w.Map,{onClick:this.onMapClicked,google:this.props.google,zoom:17,initialCenter:this.props.initialCenter,style:{width:"100%",height:"100%"},children:[Object(n.jsx)(w.Marker,{onClick:this.onMarkerClick,name:"\ud604\uc7ac\uc704\uce58",position:this.props.initialCenter}),0!==t&&t.map((function(t){return Object(n.jsx)(w.Marker,{name:t.storeName,title:"\uadfc\ucc98\ub9e4\uc7a5",position:{lat:t.location.latitude,lng:t.location.longitude},icon:{url:"http://maps.google.com/mapfiles/ms/icons/blue.png"},onClick:e.onMarkerClick},t.id)})),this.state.selectedPlace&&Object(n.jsx)(w.InfoWindow,{position:this.state.selectedPlace.position,visible:this.state.showingInfoWindow,children:Object(n.jsx)("div",{children:Object(n.jsx)("h1",{children:this.state.selectedPlace.name})})})]})})}}]),a}(r.Component),y=Object(w.GoogleApiWrapper)({apiKey:"AIzaSyBo7P2RGGtra6b7xc61eqheHoeJrDfbfq4"})(I),P=function(e){var t=Object(u.f)();localStorage.getItem("userInfo")||localStorage.setItem("userInfo",JSON.stringify({location:e.location})),localStorage.getItem("userInfo")&&(e=JSON.parse(localStorage.getItem("userInfo")));var a=function(){var a=Object(b.a)(d.a.mark((function a(){return d.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(!window.confirm("\ub9e4\uc7a5\uc744 \uc0ad\uc81c\ud558\uc2dc\uaca0\uc2b5\ub2c8\uae4c?")){a.next=13;break}return a.next=4,h.doc("storeinfo/".concat(e.location.state.storeObj.id)).delete();case 4:if(""===e.location.state.storeObj.attachmentUrl){a.next=7;break}return a.next=7,f.refFromURL(e.location.state.storeObj.attachmentUrl).delete();case 7:return a.next=9,h.collection("review").where("ThisStoreId","==",e.location.state.storeObj.id).get().then((function(e){e.forEach((function(e){h.doc("review/".concat(e.id)).delete()}))})).catch((function(e){}));case 9:return a.next=11,h.collection("menu").where("StoreID","==",e.location.state.storeObj.id).get().then((function(e){e.forEach((function(e){h.doc("menu/".concat(e.id)).delete(),f.refFromURL(e.data().attachmentUrl).delete()}))})).catch((function(e){}));case 11:return a.next=13,h.collection("Tables").where("UniqueStoreId","==",e.location.state.storeObj.id).get().then((function(e){e.forEach((function(e){h.doc("Tables/".concat(e.id)).delete()}))})).catch((function(e){}));case 13:t.push("/");case 14:case"end":return a.stop()}}),a)})));return function(){return a.apply(this,arguments)}}(),r=function(){var a=Object(b.a)(d.a.mark((function a(){return d.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:window.confirm("\uae08\uc77c \ub9e4\ucd9c\uc744 \ucd08\uae30\ud654 \ud558\uc2dc\uaca0\uc2b5\ub2c8\uae4c?")&&h.collection("storeinfo").doc(e.location.state.storeObj.id).set({TodaySales:0},{merge:!0}),t.push("/"),window.confirm("\ucd08\uae30\ud654 \ub418\uc5c8\uc2b5\ub2c8\ub2e4.");case 4:case"end":return a.stop()}}),a)})));return function(){return a.apply(this,arguments)}}();return Object(n.jsxs)("div",{children:[Object(n.jsxs)("ul",{className:"Pos",children:[Object(n.jsxs)("li",{className:"Pos__Name",children:["\ub9e4\uc7a5 \uc774\ub984: ",e.location.state.storeObj.storeName]}),Object(n.jsxs)("li",{className:"Pos__TableCnt",children:["\ud14c\uc774\ube14 \uc218  : ",e.location.state.storeObj.tableN]}),Object(n.jsxs)("li",{className:"Pos__Sales",children:["\uae08\uc77c \ub9e4\ucd9c : ",e.location.state.storeObj.TodaySales,"\uc6d0"]})]}),Object(n.jsxs)("div",{className:"Pos__Btn",children:[Object(n.jsx)(l.b,{to:{pathname:"/EditTable",state:{storeObj:e.location.state.storeObj.id}},children:Object(n.jsx)("button",{className:"tableManage",children:"\ud14c\uc774\ube14 \uad00\ub9ac"})}),Object(n.jsx)("button",{className:"storeDelete",onClick:a,children:"\ub9e4\uc7a5 \uc0ad\uc81c"}),Object(n.jsx)("button",{className:"settleMoney",onClick:r,children:"\ub9e4\ucd9c \uc815\uc0b0"}),Object(n.jsx)(l.b,{to:{pathname:"/Menu",state:{storeObj:e.location.state.storeObj.id}},children:Object(n.jsx)("button",{children:"\uac00\uac8c \uba54\ub274"})})]})]})},D=function(e){var t=e.storeObj,a=e.isOwner,c=(e.isNear,Object(r.useState)([])),o=Object(i.a)(c,2),s=o[0],u=o[1];Object(r.useEffect)((function(){h.collection("Tables").where("UniqueStoreId","==",t.id).onSnapshot((function(e){var t=e.docs.map((function(e){return Object(x.a)({id:e.id},e.data())}));u(t)}))}),[]);return Object(n.jsx)("div",{children:Object(n.jsx)(n.Fragment,{children:Object(n.jsxs)("div",{className:"storeInfo",children:[Object(n.jsxs)(l.b,{to:{pathname:"/storeDetail",state:{storeObj:t,isOwner:a}},children:[Object(n.jsx)("div",{className:"storeInfo__imgContainer",children:t.attachmentUrl&&Object(n.jsx)("img",{className:"storeInfo__img",src:t.attachmentUrl})}),Object(n.jsx)("h3",{className:"storeInfo__name",children:t.storeName}),a&&Object(n.jsx)(n.Fragment,{children:Object(n.jsx)(l.b,{to:{pathname:"/Pos",state:{storeObj:t,isOwner:a}},children:Object(n.jsx)("button",{className:"infoEdit",children:"\uad00\ub9ac"})})})]}),Object(n.jsx)("div",{children:function(){var e,t=0;for(e=0;e<s.length;e++)s[e].TotalPrice>0&&(t+=1);return Object(n.jsxs)("div",{children:["\ud14c\uc774\ube14 \ud604\ud669: ",t," / ",s.length]})}()})]})})})};a(191);var T=function(e){var t=e.userObj,a=e.location,c=Object(r.useState)([]),o=Object(i.a)(c,2),s=o[0],l=o[1],u=[];Object(r.useEffect)((function(){h.collection("storeinfo").onSnapshot((function(e){var t=e.docs.map((function(e){return Object(x.a)({id:e.id},e.data())}));l(t)}))}),[]),localStorage.removeItem("userInfo"),localStorage.removeItem("userInfo2"),localStorage.removeItem("storeMenu"),localStorage.removeItem("StoreDetail"),localStorage.removeItem("EditTable"),localStorage.removeItem("AddOrder"),s.map((function(e){(function(e,t,a,n,r){if(e==a&&t==n)return 0;var c=Math.PI*e/180,o=Math.PI*a/180,s=t-n,i=Math.PI*s/180,l=Math.sin(c)*Math.sin(o)+Math.cos(c)*Math.cos(o)*Math.cos(i);return l>1&&(l=1),l=60*(l=180*(l=Math.acos(l))/Math.PI)*1.1515,"K"==r&&(l*=1.609344),"N"==r&&(l*=.8684),l})(a.latitude,a.longitude,e.location.latitude,e.location.longitude,"K")<5&&u.push(e)}));var j={lat:a.latitude,lng:a.longitude};return Object(n.jsxs)("div",{children:[Object(n.jsx)(y,{initialCenter:j,storeList:u}),u.map((function(e){return Object(n.jsx)(D,{storeObj:e,isOwner:e.storeOnwer===t.email},e.id)}))]})},C=a(496),k=function(e){var t=e.userObj,a=e.location,c=Object(r.useState)(""),o=Object(i.a)(c,2),s=o[0],l=o[1],j=Object(r.useState)(""),m=Object(i.a)(j,2),v=m[0],p=m[1],x=Object(r.useState)(""),g=Object(i.a)(x,2),A=g[0],S=g[1],N=Object(r.useState)(""),w=Object(i.a)(N,2),I=w[0],y=w[1],P=Object(r.useState)([]),D=Object(i.a)(P,2),T=(D[0],D[1],Object(u.f)()),k=function(){var e=Object(b.a)(d.a.mark((function e(n){var r,c,o;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.preventDefault(),r="",""===I){e.next=10;break}return c=f.ref().child("".concat(t.uid,"/").concat(Object(C.a)())),e.next=6,c.putString(I,"data_url");case 6:return o=e.sent,e.next=9,o.ref.getDownloadURL();case 9:r=e.sent;case 10:return e.next=12,h.collection("storeinfo").add({attachmentUrl:r,storeName:s,location:new O.a.firestore.GeoPoint(a.latitude,a.longitude),storeIntro:v,storeOnwer:t.email,UID:t.uid,storeTime:A,tableN:0,TodaySales:0});case 12:y(""),l(""),p(""),S(""),T.push("/");case 17:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(n.jsxs)("div",{className:"register__container",children:[Object(n.jsxs)("div",{className:"register__logo",children:[Object(n.jsxs)("div",{children:[Object(n.jsx)("div",{className:"register__text",children:"\ub9e4\uc7a5 \ub85c\uace0\ub97c \uc120\ud0dd\ud558\uc138\uc694."}),Object(n.jsx)("input",{type:"file",accept:"image/*",onChange:function(e){var t=e.target.files[0];if(t){var a=new FileReader;a.onloadend=function(e){var t=e.currentTarget.result;y(t)},a.readAsDataURL(t)}}})]}),I&&Object(n.jsxs)("div",{children:[Object(n.jsx)("img",{className:"register__img",src:I}),Object(n.jsx)("button",{onClick:function(){return y(null)},children:"\ucde8\uc18c"})]})]}),Object(n.jsxs)("form",{className:"register__form",on:!0,onSubmit:k,children:[Object(n.jsx)("input",{value:s,onChange:function(e){var t=e.target.value;l(t)},type:"text",placeholder:"\ub9e4\uc7a5 \uc774\ub984",maxLength:20,required:!0}),Object(n.jsx)("input",{value:v,onChange:function(e){var t=e.target.value;p(t)},type:"text",placeholder:"\ub9e4\uc7a5 \uc124\uba85",maxLength:200,required:!0}),Object(n.jsx)("input",{value:A,onChange:function(e){var t=e.target.value;S(t)},type:"text",placeholder:"\ub9e4\uc7a5 \uc601\uc5c5 \uc2dc\uac04",maxLength:200,required:!0}),Object(n.jsx)("input",{type:"submit",value:"\ub4f1\ub85d"})]})]})},U=function(e){var t=e.storeObj,a=Object(r.useState)(!1),c=Object(i.a)(a,2),o=c[0];c[1];return Object(n.jsx)("div",{children:Object(n.jsx)(n.Fragment,{children:Object(n.jsx)("div",{className:"storeInfo",children:Object(n.jsxs)(l.b,{to:{pathname:"/storeDetail",state:{storeObj:t,isOwner:o}},children:[Object(n.jsx)("div",{className:"storeInfo__imgContainer",children:t.attachmentUrl&&Object(n.jsx)("img",{className:"storeInfo__img",src:t.attachmentUrl})}),Object(n.jsx)("h3",{className:"storeInfo__name",children:t.storeName}),Object(n.jsx)(n.Fragment,{children:Object(n.jsx)(l.b,{to:{pathname:"/Pos",state:{storeObj:t,isOwner:o}},children:Object(n.jsx)("button",{className:"infoEdit",children:"\uad00\ub9ac"})})})]})})})})},E=function(){var e=Object(u.f)(),t=Object(r.useState)([]),a=Object(i.a)(t,2),c=a[0],o=a[1];return Object(r.useEffect)((function(){h.collection("storeinfo").where("UID","==",G.uid).onSnapshot((function(e){var t=e.docs.map((function(e){return Object(x.a)({id:e.id},e.data())}));o(t)}))}),[]),Object(n.jsxs)("div",{className:"pf",children:[Object(n.jsx)("div",{className:"profile__container",children:Object(n.jsxs)("div",{className:"profile",children:[Object(n.jsx)("div",{className:"profile__myStoreList",children:"\ub098\uc758 \ub9e4\uc7a5 \ubaa9\ub85d"}),c.map((function(e){return Object(n.jsx)(U,{storeObj:e},e.id)}))]})}),Object(n.jsx)("button",{className:"logout",onClick:function(){window.confirm("\ub85c\uadf8\uc544\uc6c3 \ud558\uc2dc\uaca0\uc2b5\ub2c8\uae4c?")&&(m.signOut(),e.push("/"))},children:"Log Out"})]})},L=function(){return Object(n.jsxs)("nav",{className:"nav__container",children:[Object(n.jsx)("div",{className:"nav__logo",children:Object(n.jsx)(l.b,{to:"/",children:Object(n.jsx)("img",{src:v,title:"ZARI",name:"ZARI"})})}),Object(n.jsxs)("ul",{className:"nav__menu",children:[Object(n.jsx)("li",{children:Object(n.jsx)(l.b,{to:"/Home",children:"\ub9e4\uc7a5\ub4f1\ub85d"})}),Object(n.jsx)("li",{children:Object(n.jsx)(l.b,{to:"/Profile",children:"My profile"})}),Object(n.jsx)("li",{children:Object(n.jsx)(l.b,{to:"/",children:"\ub9e4\uc7a5 \ubaa9\ub85d \ubcf4\uae30"})})]})]})},q=function(e){var t=e.reviews,a=e.isStore,r=function(){var e=Object(b.a)(d.a.mark((function e(){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!window.confirm("\ud574\ub2f9 \ub9ac\ubdf0\ub97c \uc0ad\uc81c\ud558\uc2dc\uaca0\uc2b5\ub2c8\uae4c?")){e.next=4;break}return e.next=4,h.doc("review/".concat(t.id)).delete();case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(n.jsxs)("div",{className:"review__obj",children:[a&&Object(n.jsxs)("div",{children:[Object(n.jsxs)("div",{className:"review__info",children:[Object(n.jsx)("div",{className:"review__writer",children:t.UserEmail}),Object(n.jsx)("div",{className:"review__time",children:t.ReviewTime})]}),Object(n.jsx)("div",{className:"review__comment",children:t.UserComment})]}),a&&G.email===t.UserEmail&&Object(n.jsx)("button",{onClick:r,children:"\uc0ad\uc81c"})]})},X=function(e){var t=e.storeObj,a=Object(r.useState)(""),c=Object(i.a)(a,2),o=c[0],s=c[1],l=Object(r.useState)(),u=Object(i.a)(l,2),j=u[0],O=u[1],f=Object(r.useState)([]),v=Object(i.a)(f,2),p=v[0],g=v[1],A=m.currentUser.email,S=(new Date).toLocaleString(),N=function(){var e=Object(b.a)(d.a.mark((function e(a){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a.preventDefault(),e.next=3,h.collection("review").add({UserEmail:A,UserComment:o,ThisStoreId:t.location.state.storeObj.id,ReviewTime:S});case 3:s("");case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();Object(r.useEffect)((function(){h.collection("review").where("ThisStoreId","==",t.location.state.storeObj.id).onSnapshot((function(e){var t=e.docs.map((function(e){return Object(x.a)({id:e.id},e.data())}));g(t)}))}),[]);return Object(n.jsx)("div",{className:"review",children:Object(n.jsxs)("div",{className:"review__container",children:[Object(n.jsxs)("form",{className:"review__form",onSubmit:N,children:[Object(n.jsx)("div",{children:"\ucca8\ubd80\ud560 \uc0ac\uc9c4\uc744 \uc120\ud0dd\ud558\uc138\uc694."}),Object(n.jsx)("input",{type:"file",accept:"image/*",onChange:function(e){var t=e.target.files[0];if(t){var a=new FileReader;a.onloadend=function(e){var t=e.currentTarget.result;O(t)},a.readAsDataURL(t)}}}),j&&Object(n.jsxs)("div",{children:[Object(n.jsx)("img",{className:"review__img",src:j}),Object(n.jsx)("button",{onClick:function(){return O(null)},children:"\ucde8\uc18c"})]}),Object(n.jsx)("input",{value:o,onChange:function(e){var t=e.target.value;s(t)},type:"text",placeholder:"\ub9ac\ubdf0\ub97c \ub0a8\uaca8\ubcf4\uc138\uc694.",maxLength:50}),Object(n.jsx)("input",{type:"submit",value:"\ub9ac\ubdf0 \ub0a8\uae30\uae30"})]}),p.map((function(e){return Object(n.jsx)(q,{reviews:e,isStore:e.ThisStoreId===t.location.state.storeObj.id},e.id)}))]})})},B=function(e){var t=e.menus,a=e.isStore,c=Object(r.useState)([]),o=Object(i.a)(c,2),s=o[0],l=o[1],u=t.StoreID;Object(r.useEffect)((function(){h.collection("Tables").where("UniqueStoreId","==",u).onSnapshot((function(e){var t=e.docs.map((function(e){return Object(x.a)({id:e.id},e.data())}));l(t)}))}),[]);var j=function(){var e=Object(b.a)(d.a.mark((function e(){var a,n,r;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!window.confirm("\uba54\ub274\ub97c \uc0ad\uc81c\ud558\uc2dc\uaca0\uc2b5\ub2c8\uae4c? \n\ud14c\uc774\ube14\uc5d0 \ud574\ub2f9 \uba54\ub274\uc758 \uc8fc\ubb38\ub0b4\uc5ed\ub3c4 \uac19\uc774 \uc0ad\uc81c\ub429\ub2c8\ub2e4.")){e.next=7;break}return e.next=4,h.doc("menu/".concat(t.id)).delete();case 4:return e.next=6,f.refFromURL(t.attachmentUrl).delete();case 6:for(a=0;a<s.length;a++)n=s[a].OrderArray.findIndex((function(e){return e.menuName===t.Name})),r=s[a].OrderArray[n].totalPrice,n>-1&&s[a].OrderArray.splice(n,1),h.collection("Tables").doc(s[a].id).set({OrderArray:s[a].OrderArray,TotalPrice:s[a].TotalPrice-r},{merge:!0});case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(n.jsx)("div",{className:"menu__container",children:a&&Object(n.jsxs)("div",{className:"menu__obj",children:[Object(n.jsx)("div",{className:"menu__imgContainer",children:t.attachmentUrl&&Object(n.jsx)("img",{className:"menu__img",src:t.attachmentUrl})}),Object(n.jsxs)("div",{className:"menu__info",children:[Object(n.jsxs)("h3",{children:["\uba54\ub274 \uc774\ub984: ",t.Name]}),Object(n.jsxs)("h3",{children:["\uba54\ub274 \uac00\uaca9: ",t.Price," \uc6d0"]})]}),Object(n.jsx)("button",{className:"menu__delBtn",onClick:j,children:"\uba54\ub274 \uc0ad\uc81c"})]})})},_=function(e){var t=e.storeObj,a=Object(r.useState)(""),c=Object(i.a)(a,2),o=c[0],s=c[1],l=Object(r.useState)(""),u=Object(i.a)(l,2),j=u[0],O=u[1],m=Object(r.useState)(),v=Object(i.a)(m,2),p=v[0],g=v[1],A=Object(r.useState)([]),S=Object(i.a)(A,2),N=S[0],w=S[1],I=Object(r.useState)([]),y=Object(i.a)(I,2),P=y[0],D=y[1];Object(r.useEffect)((function(){h.collection("menu").where("StoreID","==",t).onSnapshot((function(e){var t=e.docs.map((function(e){return Object(x.a)({id:e.id},e.data())}));w(t)})),h.collection("Tables").where("UniqueStoreId","==",t).onSnapshot((function(e){var t=e.docs.map((function(e){return Object(x.a)({id:e.id},e.data())}));D(t)}))}),[]);var T=function(){var e=Object(b.a)(d.a.mark((function e(a){var n,r,c,i,l,u;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=0;case 1:if(!(n<N.length)){e.next=8;break}if(N[n].Name!=o){e.next=5;break}return alert("\uc774\ubbf8 \ub611\uac19\uc740 \uc774\ub984\uc758 \uba54\ub274\uac00 \uc788\uc2b5\ub2c8\ub2e4."),e.abrupt("return");case 5:n++,e.next=1;break;case 8:if(a.preventDefault(),r="",""===p){e.next=18;break}return c=f.ref().child("".concat(t,"/").concat(Object(C.a)())),e.next=14,c.putString(p,"data_url");case 14:return i=e.sent,e.next=17,i.ref.getDownloadURL();case 17:r=e.sent;case 18:for(l={attachmentUrl:r,Name:o,Price:j,StoreID:t},u={menuName:o,orderQuantity:0,singlePrice:1*j,totalPrice:0},n=0;n<P.length;n++)P[n].OrderArray.push(u),h.collection("Tables").doc(P[n].id).set({OrderArray:P[n].OrderArray},{merge:!0});return e.next=23,h.collection("menu").add(l);case 23:g(""),s(""),O("");case 26:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(n.jsx)("div",{className:"menuAdd__container",children:Object(n.jsxs)("form",{className:"menuAdd_form",onSubmit:T,children:[Object(n.jsx)("div",{children:"\uba54\ub274 \uc0ac\uc9c4\uc744 \uc120\ud0dd\ud558\uc138\uc694."}),Object(n.jsx)("input",{type:"file",accept:"image/*",onChange:function(e){var t=e.target.files[0];if(t){var a=new FileReader;a.onloadend=function(e){var t=e.currentTarget.result;g(t)},a.readAsDataURL(t)}},required:!0}),p&&Object(n.jsxs)("div",{children:[Object(n.jsx)("img",{className:"menuAdd_img",src:p}),Object(n.jsx)("button",{onClick:function(){return g(null)},children:"\ucde8\uc18c"})]}),Object(n.jsx)("input",{value:o,onChange:function(e){var t=e.target.value;s(t)},type:"text",placeholder:"\uba54\ub274 \uc774\ub984",maxLength:50,required:!0}),Object(n.jsx)("input",{value:j,onChange:function(e){var t=e.target.value;O(t)},type:"number",placeholder:"\uba54\ub274 \uac00\uaca9",maxLength:50,min:"0",max:"1000000",required:!0}),Object(n.jsx)("input",{type:"submit",value:"\uba54\ub274 \ucd94\uac00"})]})})},Q=function(e){var t=Object(r.useState)(!1),a=Object(i.a)(t,2),c=a[0],o=a[1];localStorage.getItem("storeMenu")?e=JSON.parse(localStorage.getItem("storeMenu")).storeObj:localStorage.setItem("storeMenu",JSON.stringify({storeObj:e}));var s=Object(r.useState)([]),l=Object(i.a)(s,2),u=l[0],j=l[1];Object(r.useEffect)((function(){h.collection("menu").where("StoreID","==",e.location.state.storeObj).onSnapshot((function(e){var t=e.docs.map((function(e){return Object(x.a)({id:e.id},e.data())}));j(t)}))}),[]);var d=e.location.state.storeObj;return Object(n.jsxs)("div",{children:[Object(n.jsx)("div",{children:u.map((function(e){return Object(n.jsx)(B,{menus:e,isStore:e.StoreID===d},e.id)}))}),Object(n.jsx)("div",{className:"menu__addBtn",children:Object(n.jsx)("button",{onClick:function(){o(!c)},children:"\uba54\ub274 \ucd94\uac00"})}),Object(n.jsx)("div",{children:c?Object(n.jsx)(_,{storeObj:d}):""})]})},z=function(e,t){localStorage.getItem("userInfo2")||localStorage.setItem("userInfo2",JSON.stringify({storeObj:e,location:e.location,id:e.location.state.storeObj.id,storeName:e.location.state.storeObj.storeName,storeIntro:e.location.state.storeObj.storeIntro,storeTime:e.location.state.storeObj.storeTime,attachmentUrl:e.location.state.storeObj.attachmentUrl})),localStorage.getItem("StoreDetail")||localStorage.setItem("StoreDetail",JSON.stringify({storeName:e.location.state.storeObj.storeName,storeIntro:e.location.state.storeObj.storeIntro,storeTime:e.location.state.storeObj.storeTime,attachmentUrl:e.location.state.storeObj.attachmentUrl})),e=JSON.parse(localStorage.getItem("userInfo2")).storeObj;var a=Object(r.useState)(""),c=Object(i.a)(a,2),o=(c[0],c[1],Object(r.useState)(!1)),s=Object(i.a)(o,2),l=s[0],u=s[1],j=Object(r.useState)(JSON.parse(localStorage.getItem("userInfo2")).location.state.storeObj.id),O=Object(i.a)(j,2),m=O[0],f=(O[1],Object(r.useState)(JSON.parse(localStorage.getItem("StoreDetail")).storeName)),v=Object(i.a)(f,2),p=v[0],g=v[1],A=Object(r.useState)(JSON.parse(localStorage.getItem("StoreDetail")).storeIntro),S=Object(i.a)(A,2),N=S[0],w=S[1],I=Object(r.useState)(JSON.parse(localStorage.getItem("StoreDetail")).storeTime),y=Object(i.a)(I,2),P=y[0],D=y[1],T=Object(r.useState)(JSON.parse(localStorage.getItem("StoreDetail")).attachmentUrl),C=Object(i.a)(T,2),k=C[0],U=(C[1],Object(r.useState)(!1)),E=Object(i.a)(U,2),L=E[0],q=E[1];console.log(k);var _=function(){return q((function(e){return!e}))},Q=function(){var t=Object(b.a)(d.a.mark((function t(a){return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a.preventDefault(),t.next=3,h.doc("storeinfo/".concat(e.location.state.storeObj.id)).update({storeName:p,storeIntro:N,storeTime:P,attachmentUrl:k});case 3:localStorage.setItem("StoreDetail",JSON.stringify({storeName:p,storeIntro:N,storeTime:P,attachmentUrl:k})),q(!1);case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),z=Object(r.useState)([]),W=Object(i.a)(z,2),Z=W[0],M=W[1];return Object(r.useEffect)((function(){h.collection("menu").onSnapshot((function(e){var t=e.docs.map((function(e){return Object(x.a)({id:e.id},e.data())}));M(t)}))}),[]),Object(n.jsx)("div",{className:"storeDetail__container",children:L?Object(n.jsxs)(n.Fragment,{children:[Object(n.jsxs)("form",{className:"storeDetail__edit",onSubmit:Q,children:[Object(n.jsx)("input",{type:"text",placeholder:"\uc0c8\ub85c\uc6b4 \ub9e4\uc7a5 \uc774\ub984",value:p,onChange:function(e){var t=e.target.value;g(t)},required:!0}),Object(n.jsx)("input",{type:"text",placeholder:"\uc0c8\ub85c\uc6b4 \ub9e4\uc7a5 \uc124\uba85",value:N,onChange:function(e){var t=e.target.value;w(t)},required:!0}),Object(n.jsx)("input",{type:"text",placeholder:"\uc0c8\ub85c\uc6b4 \ub9e4\uc7a5 \uc601\uc5c5 \uc2dc\uac04",value:P,onChange:function(e){var t=e.target.value;D(t)},required:!0}),Object(n.jsx)("input",{type:"submit",value:"\uc218\uc815"})]}),Object(n.jsx)("button",{className:"storeDetail__cancelBtn",onClick:_,children:"\ucde8\uc18c"})]}):Object(n.jsxs)(n.Fragment,{children:[G.uid===JSON.parse(localStorage.getItem("userInfo2")).location.state.storeObj.UID&&Object(n.jsx)("button",{className:"storeDetail__introEdit",onClick:_,children:"\ub9e4\uc7a5 \uc815\ubcf4 \uc218\uc815"}),Object(n.jsxs)("ul",{className:"storeDetail",children:[Object(n.jsx)("li",{className:"storeDetail__Logo",children:Object(n.jsx)("img",{src:k})}),Object(n.jsx)("li",{className:"storeDetail__Name",children:p}),Object(n.jsxs)("li",{className:"storeDetail__Intro",children:["\ub9e4\uc7a5 \uc18c\uac1c : ",N]}),Object(n.jsxs)("li",{className:"storeDetail__Time",children:["\ub9e4\uc7a5 \uc601\uc5c5\uc2dc\uac04 : ",P]})]}),Object(n.jsxs)("div",{className:"storeDetail__menu",children:[Object(n.jsx)("p",{children:"Menu"}),Z.map((function(e){return Object(n.jsx)(B,{menus:e,isStore:e.StoreID===m},e.id)}))]}),Object(n.jsx)("div",{className:"storeDetail__Btn",children:Object(n.jsx)("button",{onClick:function(){u(!l)},children:"\ub9ac\ubdf0"})}),Object(n.jsx)("div",{children:l?Object(n.jsx)(X,{storeObj:JSON.parse(localStorage.getItem("userInfo2")).storeObj}):""})]})})},W=0,Z=0,M=function(e){localStorage.getItem("AddOrder")||localStorage.setItem("AddOrder",JSON.stringify({StoreObj:e})),e=JSON.parse(localStorage.getItem("AddOrder")).StoreObj,console.log(e.location.state.tableObj.id);var t=e.location.state.selectedStoreID,a=e.location.state.tableObj.id,c=Object(r.useState)([]),o=Object(i.a)(c,2),s=o[0],l=o[1],u=Object(r.useState)([]),j=Object(i.a)(u,2),d=j[0],b=j[1],O=Object(r.useState)(0),m=Object(i.a)(O,2),f=m[0],v=m[1];Object(r.useEffect)((function(){h.collection("Tables").doc(a).onSnapshot((function(e){b(e.data().OrderArray),W=e.data().TotalPrice})),h.collection("storeinfo").doc(t).onSnapshot((function(e){Z=e.data().TodaySales})),h.collection("menu").where("StoreID","==",t).onSnapshot((function(e){var t=e.docs.map((function(e){return Object(x.a)({id:e.id},e.data())}));l(t)}))}),[f]);var p=function(){h.collection("Tables").doc(a).set({TotalPrice:W,OrderArray:d},{merge:!0}),v(1)},g=function(e){e.preventDefault();for(var t=e.target.value,a=0;a<d.length;a++)if(d[a].menuName==t){if(0>d[a].totalPrice-d[a].singlePrice)return void alert("0\uc6d0 \uc774\ud558\uc785\ub2c8\ub2e4.");d[a].orderQuantity-=1,d[a].totalPrice-=d[a].singlePrice,W-=d[a].singlePrice,p();break}},A=function(e){e.preventDefault();for(var t=e.target.value,a=0;a<d.length;a++)if(d[a].menuName==t){d[a].orderQuantity+=1,d[a].totalPrice+=d[a].singlePrice,W+=d[a].singlePrice,p();break}},S=function(e){for(var t=0;t<d.length;t++)if(d[t].menuName==e)return Object(n.jsxs)("ul",{className:"order__info",children:[Object(n.jsxs)("li",{children:["\uc8fc\ubb38 \uc218\ub7c9: ",d[t].orderQuantity," \uac1c"]}),Object(n.jsxs)("li",{children:["\ud604\uc7ac \uba54\ub274 \uac00\uaca9: ",d[t].totalPrice," \uc6d0"]}),Object(n.jsxs)("li",{children:["\ud604\uc7ac \ud14c\uc774\ube14 \ucd1d \uc8fc\ubb38 \uae08\uc561: ",W," \uc6d0"]})]})};return Object(n.jsxs)("div",{children:[Object(n.jsxs)("div",{className:"order__container",children:[Object(n.jsxs)("div",{className:"order__totalPrice",children:["\ud604\uc7ac \ud14c\uc774\ube14 \ucd1d \uc8fc\ubb38 \uae08\uc561: ",W," \uc6d0"]}),Object(n.jsx)("div",{className:"order__calc",children:Object(n.jsx)("button",{onClick:function(){Z=W+Z;for(var e=0;e<d.length;e++)d[e].orderQuantity=0,d[e].totalPrice=0;W=0,h.collection("Tables").doc(a).set({TotalPrice:W,OrderArray:d},{merge:!0}),h.collection("storeinfo").doc(t).set({TodaySales:Z},{merge:!0}),v(1)},children:"\uacc4\uc0b0\ud558\uae30"})})]}),Object(n.jsx)("div",{children:s.map((function(e){return Object(n.jsx)("div",{className:"menu__container",children:Object(n.jsxs)("div",{className:"menu__obj",children:[Object(n.jsx)("div",{className:"menu__imgContainer",children:e.attachmentUrl&&Object(n.jsx)("img",{className:"menu__img",src:e.attachmentUrl})}),Object(n.jsxs)("div",{className:"menu__info",children:[Object(n.jsxs)("h3",{children:["\uba54\ub274 \uc774\ub984: ",e.Name]}),Object(n.jsxs)("h3",{children:["\uba54\ub274 \uac00\uaca9: ",e.Price," \uc6d0"]}),Object(n.jsxs)("div",{className:"btn",children:[Object(n.jsx)("button",{onClick:A,value:e.Name,children:"+1"}),Object(n.jsx)("button",{onClick:g,value:e.Name,children:"-1"})]}),S(e.Name)]})]})})}))})]})},J=function(e){var t=Object(r.useState)([]),a=Object(i.a)(t,2),c=a[0],o=a[1],s=Object(r.useState)("0"),u=Object(i.a)(s,2),j=u[0],O=u[1];localStorage.removeItem("AddOrder"),localStorage.getItem("EditTable")||localStorage.setItem("EditTable",JSON.stringify({location:e.location,history:e.history,storeObj:e})),e=JSON.parse(localStorage.getItem("EditTable")).storeObj;var m=Object(r.useState)([]),f=Object(i.a)(m,2),v=f[0],p=f[1],g=Object(r.useState)(JSON.parse(localStorage.getItem("EditTable")).location.state.storeObj),A=Object(i.a)(g,2),S=A[0],N=(A[1],Object(r.useState)([])),w=Object(i.a)(N,2);w[0],w[1];Object(r.useEffect)((function(){h.collection("menu").where("StoreID","==",S).onSnapshot((function(e){var t=e.docs.map((function(e){return{menuName:e.data().Name,orderQuantity:0,singlePrice:1*e.data().Price,totalPrice:0}}));o(t)})),h.collection("Tables").where("UniqueStoreId","==",S).onSnapshot((function(e){var t=e.docs.map((function(e){return Object(x.a)({id:e.id},e.data())}));p(t)}))}),[]);var I=function(){var e=Object(b.a)(d.a.mark((function e(t){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.preventDefault(),h.collection("Tables").add({UniqueStoreId:S,TotalPrice:0,OrderArray:c,TableNo:j});case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),y=function(){var e=Object(b.a)(d.a.mark((function e(t){var a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.preventDefault(),window.confirm("\ud574\ub2f9 \ud14c\uc774\ube14\uc744 \uc0ad\uc81c\ud558\uc2dc\uaca0\uc2b5\ub2c8\uae4c?")&&(a=t.target.value,h.collection("Tables").doc(a).delete());case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(n.jsxs)("div",{className:"table",children:[Object(n.jsx)("div",{className:"table__container",children:v.map((function(e){return Object(n.jsxs)("div",{className:"table__obj",children:[Object(n.jsx)(l.b,{to:{pathname:"/AddOrder",state:{selectedStoreID:S,tableObj:e}},children:Object(n.jsxs)("button",{className:"table__objBtn",children:["\ud14c\uc774\ube14 \ubc88\ud638 = ",e.TableNo]})}),Object(n.jsxs)("div",{className:"table__delBtn__container",children:[Object(n.jsx)("button",{className:"table__delBtn",onClick:y,value:e.id,children:" \uc0ad\uc81c "}),e.TotalPrice>0?Object(n.jsx)("div",{className:"O",children:"O"}):Object(n.jsx)("div",{className:"X",children:"X"})]})]})}))}),Object(n.jsx)("div",{className:"table__addBtn",children:Object(n.jsxs)("form",{children:[Object(n.jsx)("input",{type:"number",placeholder:"\ud14c\uc774\ube14 \ubc88\ud638",onChange:function(e){var t=e.target.value;O(t)},min:"1"}),Object(n.jsx)("button",{onClick:I,children:"\ud14c\uc774\ube14 \ucd94\uac00"})]})})]})},R=function(e){Object(S.a)(a,e);var t=Object(N.a)(a);function a(){var e;Object(g.a)(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state={count:0,location:""},e.modify=function(t){e.setState({count:t}),h.collection("storeinfo").doc(e.state.location.state.storeObj.id).update({tableN:t})},e}return Object(A.a)(a,[{key:"componentDidMount",value:function(){var e=this.props,t=e.location;e.history;void 0!==t.state&&localStorage.setItem("userInfo",JSON.stringify({location:this.props.location,history:this.props.history})),this.setState({count:t.state.storeObj.tableN,location:t})}},{key:"render",value:function(){localStorage.getItem("userInfo")&&(this.props=JSON.parse(localStorage.getItem("userInfo")));var e=this.props;e.location,e.history;return Object(n.jsx)("div",{})}}]),a}(c.a.Component),H=function(){var e=Object(r.useState)(""),t=Object(i.a)(e,2),a=t[0],c=t[1],o=Object(u.f)(),s=Object(r.useState)(""),j=Object(i.a)(s,2),O=(j[0],j[1]),h=function(){var e=Object(b.a)(d.a.mark((function e(t){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),e.prev=1,!a){e.next=6;break}return e.next=5,m.sendPasswordResetEmail(a);case 5:e.sent;case 6:e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),O(e.t0.message);case 11:alert("\uc804\uc1a1\ub418\uc5c8\uc2b5\ub2c8\ub2e4. \uc774\uba54\uc77c\uc744 \ud655\uc778\ud574\uc8fc\uc138\uc694"),o.push("/");case 13:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}();return Object(n.jsxs)("div",{className:"loginForm",children:[Object(n.jsx)("img",{src:v,className:"ZARI"}),Object(n.jsx)("h2",{children:"Password Reset"}),Object(n.jsx)("form",{children:Object(n.jsx)("input",{name:"email",type:"email",placeholder:"Email",required:!0,value:a,onChange:function(e){var t=e.target,a=t.name,n=t.value;"email"===a&&c(n)}})}),Object(n.jsxs)("div",{className:"option",children:[Object(n.jsx)("button",{onClick:h,children:"Send"}),Object(n.jsx)(l.b,{to:"/",children:"Login"})]})]})},V=function(e){var t=e.isLoggedIn,a=e.userObj,r=e.location;return Object(n.jsx)(l.a,{children:Object(n.jsxs)(u.c,{children:[t?Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)(L,{}),Object(n.jsx)(u.a,{exact:!0,path:"/",children:Object(n.jsx)(T,{userObj:a,location:r})}),Object(n.jsx)(u.a,{exact:!0,path:"/Profile",component:E}),Object(n.jsx)(u.a,{exact:!0,path:"/Home",children:Object(n.jsx)(k,{userObj:a,location:r})}),Object(n.jsx)(u.a,{exact:!0,path:"/storeDetail",component:z}),Object(n.jsx)(u.a,{exact:!0,path:"/Pos",component:P}),Object(n.jsx)(u.a,{exact:!0,path:"/PosEdit",component:R}),Object(n.jsx)(u.a,{exact:!0,path:"/Menu",component:Q}),Object(n.jsx)(u.a,{exact:!0,path:"/AddOrder",component:M}),Object(n.jsx)(u.a,{exact:!0,path:"/EditTable",component:J}),Object(n.jsx)(L,{})]}):Object(n.jsx)(u.a,{exact:!0,path:"/",children:Object(n.jsx)(p,{})}),Object(n.jsx)(u.a,{path:"/forgot-password",component:H})]})})};var G,F=function(){var e=Object(r.useState)(!1),t=Object(i.a)(e,2),a=t[0],c=t[1],o=Object(r.useState)(!1),s=Object(i.a)(o,2),l=s[0],u=s[1],j=Object(r.useState)(!1),d=Object(i.a)(j,2),b=d[0],O=d[1],h=Object(r.useState)(null),f=Object(i.a)(h,2),v=f[0],p=f[1],x=Object(r.useState)(null),g=Object(i.a)(x,2),A=g[0],S=g[1];return Object(r.useEffect)((function(){navigator.geolocation?navigator.geolocation.getCurrentPosition((function(e){S(e.coords),c(!0),localStorage.setItem("userLocation",JSON.stringify({latitude:e.coords.latitude,longitude:e.coords.longitude}))}),(function(e){console.error(e)}),{enableHighAccuracy:!1,maximumAge:0,timeout:1/0}):alert("\uc704\uce58\uc815\ubcf4 \ubd88\ub7ec\uc624\uae30 \uc2e4\ud328"),m.onAuthStateChanged((function(e){e?(O(!0),p(e)):O(!1),u(!0)}))}),[]),G=v,Object(n.jsxs)(n.Fragment,{children:[a&&l?Object(n.jsx)(V,{isLoggedIn:b,userObj:v,location:A}):"Initializing...",Object(n.jsxs)("footer",{children:["\xa9 ",(new Date).getFullYear()," ZARI"]})]})};s.a.render(Object(n.jsx)(c.a.StrictMode,{children:Object(n.jsx)(F,{})}),document.getElementById("root"))}},[[494,1,2]]]);
//# sourceMappingURL=main.2db96d23.chunk.js.map